require("source-map-support").install();
/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};

/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {

/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;

/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			exports: {},
/******/ 			id: moduleId,
/******/ 			loaded: false
/******/ 		};

/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);

/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;

/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}


/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;

/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;

/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";

/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ function(module, exports, __webpack_require__) {

	eval("// Declare variables here for global use\n\n\n// Refactor this file so that server.js is\n// only concered with the two node.js servers\n// and the front-end server will be handled separately\n\n// F deployment, the two admin server will serve\n// the bundle.js front-end app from build/bundle.js\n// so that this application can be deployed as a simple node\n// application.\n\n// We need to work out how the two json servers can be\n// slimmed down into one json server handling both the admin\n// and public apis\n\n// Refactor server code in to separate files, making\n// good use of ES2016 import / export code.\n\n// Remove references to Faker.js since this is an implementation\n// detail.\n\n\nvar http = __webpack_require__(1);\nvar jsonServer = __webpack_require__(2);\nvar bodyParser = __webpack_require__(3);\nvar webpack = __webpack_require__(4);\nvar WebpackDevServer = __webpack_require__(5);\nvar webpackConfig = __webpack_require__(6);\nvar resourceUtils = __webpack_require__(9).default;\nvar dataRouter;\n\n/*=============================================================================\n\tWhen resources are updated, restart the database server\n=============================================================================*/\nvar databaseServerUpdaterMiddleware = function (req, res, next) {\n\t// Pass immediately on to JSON server\n\tnext();\n\n\t// Stop and start the JSON server\n  if (req.method === 'POST' ||\n  \t\treq.method === 'PUT' ||\n  \t\treq.method === 'DELETE') {\n\n  \tsetTimeout(() => {\n  \t\thttp('http://localhost:1401/resources', (error, response, body) => {\n  \t\t\tvar resources = JSON.parse(body);\n  \t\t\tconsole.log(\"Database updated at: http://localhost:1400\");\n  \t\t\tdataRouter.db.setState(resourceUtils.generateDatabase(resources));\n  \t\t});\n  \t}, 2000);\n  }\n}\n\n/*=============================================================================\n\tRun the admin database (to store resource descriptions)\n=============================================================================*/\nvar startAdminServer = function() {\n\tvar adminServer = jsonServer.create();\n\tvar adminRouter = jsonServer.router('admin_db.json');\n\n\tadminServer.use(jsonServer.defaults());\n\tadminServer.use(databaseServerUpdaterMiddleware);\n\tadminServer.use(adminRouter);\n\n\tadminServer.listen(1401, () => {\n\t  console.log('Admin database running at: http://localhost:1401');\n\t  startDatabaseServer();\n\t});\n}\n\nvar resourceMethodHelperMiddleware = function (req, res, next, resources) {\n\t// Check that the method is supported by the configuration\n\t// first get the resource description in question and then\n\t// check that the method is supported before passing it to\n\t// json server. Otherwise throw a 405 method not allowed\n\tvar requestedResourceName = req.originalUrl.split('/')[1];\n\tvar requestedResourceDescription = resources.find(function(resource) {\n\t// var requestedResourceDescription = _resources.find(function(resource) {\n\t\treturn resource.name === requestedResourceName;\n\t});\n\n\tif (requestedResourceDescription) {\n  \tif (req.method === 'GET' && requestedResourceDescription.supportedMethods.get) {\n  \t\tnext();\n  \t} else if (req.method === 'POST' && requestedResourceDescription.supportedMethods.post) {\n  \t\tvalidationErrors = resourceUtils.validateRequest(requestedResourceDescription, req.body);\n  \t\tif (validationErrors) {\n  \t\t\tres.status(400).send(validationErrors)\n  \t\t} else {\n  \t\t\tnext();\n  \t\t}\n  \t} else if (req.method === 'PUT' && requestedResourceDescription.supportedMethods.put) {\n  \t\tnext();\n  \t} else if (req.method === 'DELETE' && requestedResourceDescription.supportedMethods.destroy) {\n  \t\tnext();\n  \t} else {\n  \t\tres.status(405).send(`Method isn't supported for this resource`);\n  \t}\n\t} else {\n\t\t// The resource doesn't exist but JSON server will handle the response for us\n\t\tnext();\n\t}\n}\n\n/*=============================================================================\n\tStart up the database API (one that will be consumed by client's\n\tfront-end projects).\n\tUses JSON server (see docs for more info)\n=============================================================================*/\nvar startDatabaseServer = function() {\n\tconsole.log('Starting database server')\n\n\thttp('http://localhost:1401/resources', (error, response, body) => {\n\t  var resources = JSON.parse(body);\n\t  // _resources = resources;\n\t  var dataServer = jsonServer.create();\n\t  dataRouter = jsonServer.router(resourceUtils.generateDatabase(resources));\n\n\t  dataServer.use(bodyParser.json());\n\t  dataServer.use(jsonServer.defaults());\n\n\t  dataServer.use(resourceMethodHelperMiddleware.bind(resources));\n\n\t  dataServer.use(dataRouter);\n\t  dataServer.listen(1400, function () {\n\t    console.log('Database running at: http://localhost:1400');\n\t  });\n\t});\n}\n\n// /*=============================================================================\n// \tStart up the admin front-end for managing resources and settings\n// =============================================================================*/\n// var startFrontEndServer = function() {\n// \tnew WebpackDevServer(webpack(webpackConfig), {\n// \t  publicPath: webpackConfig.output.publicPath,\n// \t  hot: true,\n// \t  historyApiFallback: true\n// \t}).listen(1402, 'localhost', (err) => {\n// \t  if (err) {\n// \t    console.log(err);\n// \t  }\n// \t  console.log('Frontend server running at: http://localhost:1402');\n// \t});\n// }\n\n/*=============================================================================\n\tBootstrap\n=============================================================================*/\nstartAdminServer();\n// startFrontEndServer();//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zZXJ2ZXIuanM/N2FhMiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0FBR0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxJQUFJO0FBQ0o7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLEVBQUU7QUFDRjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiMC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIERlY2xhcmUgdmFyaWFibGVzIGhlcmUgZm9yIGdsb2JhbCB1c2VcblxuXG4vLyBSZWZhY3RvciB0aGlzIGZpbGUgc28gdGhhdCBzZXJ2ZXIuanMgaXNcbi8vIG9ubHkgY29uY2VyZWQgd2l0aCB0aGUgdHdvIG5vZGUuanMgc2VydmVyc1xuLy8gYW5kIHRoZSBmcm9udC1lbmQgc2VydmVyIHdpbGwgYmUgaGFuZGxlZCBzZXBhcmF0ZWx5XG5cbi8vIEYgZGVwbG95bWVudCwgdGhlIHR3byBhZG1pbiBzZXJ2ZXIgd2lsbCBzZXJ2ZVxuLy8gdGhlIGJ1bmRsZS5qcyBmcm9udC1lbmQgYXBwIGZyb20gYnVpbGQvYnVuZGxlLmpzXG4vLyBzbyB0aGF0IHRoaXMgYXBwbGljYXRpb24gY2FuIGJlIGRlcGxveWVkIGFzIGEgc2ltcGxlIG5vZGVcbi8vIGFwcGxpY2F0aW9uLlxuXG4vLyBXZSBuZWVkIHRvIHdvcmsgb3V0IGhvdyB0aGUgdHdvIGpzb24gc2VydmVycyBjYW4gYmVcbi8vIHNsaW1tZWQgZG93biBpbnRvIG9uZSBqc29uIHNlcnZlciBoYW5kbGluZyBib3RoIHRoZSBhZG1pblxuLy8gYW5kIHB1YmxpYyBhcGlzXG5cbi8vIFJlZmFjdG9yIHNlcnZlciBjb2RlIGluIHRvIHNlcGFyYXRlIGZpbGVzLCBtYWtpbmdcbi8vIGdvb2QgdXNlIG9mIEVTMjAxNiBpbXBvcnQgLyBleHBvcnQgY29kZS5cblxuLy8gUmVtb3ZlIHJlZmVyZW5jZXMgdG8gRmFrZXIuanMgc2luY2UgdGhpcyBpcyBhbiBpbXBsZW1lbnRhdGlvblxuLy8gZGV0YWlsLlxuXG5cbnZhciBodHRwID0gcmVxdWlyZSgncmVxdWVzdCcpO1xudmFyIGpzb25TZXJ2ZXIgPSByZXF1aXJlKCdqc29uLXNlcnZlcicpO1xudmFyIGJvZHlQYXJzZXIgPSByZXF1aXJlKCdib2R5LXBhcnNlcicpO1xudmFyIHdlYnBhY2sgPSByZXF1aXJlKCd3ZWJwYWNrJyk7XG52YXIgV2VicGFja0RldlNlcnZlciA9IHJlcXVpcmUoJ3dlYnBhY2stZGV2LXNlcnZlcicpO1xudmFyIHdlYnBhY2tDb25maWcgPSByZXF1aXJlKCcuL3dlYnBhY2suY29uZmlnJyk7XG52YXIgcmVzb3VyY2VVdGlscyA9IHJlcXVpcmUoJy4vYmFja2VuZC9SZXNvdXJjZVV0aWxzJykuZGVmYXVsdDtcbnZhciBkYXRhUm91dGVyO1xuXG4vKj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cdFdoZW4gcmVzb3VyY2VzIGFyZSB1cGRhdGVkLCByZXN0YXJ0IHRoZSBkYXRhYmFzZSBzZXJ2ZXJcbj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki9cbnZhciBkYXRhYmFzZVNlcnZlclVwZGF0ZXJNaWRkbGV3YXJlID0gZnVuY3Rpb24gKHJlcSwgcmVzLCBuZXh0KSB7XG5cdC8vIFBhc3MgaW1tZWRpYXRlbHkgb24gdG8gSlNPTiBzZXJ2ZXJcblx0bmV4dCgpO1xuXG5cdC8vIFN0b3AgYW5kIHN0YXJ0IHRoZSBKU09OIHNlcnZlclxuICBpZiAocmVxLm1ldGhvZCA9PT0gJ1BPU1QnIHx8XG4gIFx0XHRyZXEubWV0aG9kID09PSAnUFVUJyB8fFxuICBcdFx0cmVxLm1ldGhvZCA9PT0gJ0RFTEVURScpIHtcblxuICBcdHNldFRpbWVvdXQoKCkgPT4ge1xuICBcdFx0aHR0cCgnaHR0cDovL2xvY2FsaG9zdDoxNDAxL3Jlc291cmNlcycsIChlcnJvciwgcmVzcG9uc2UsIGJvZHkpID0+IHtcbiAgXHRcdFx0dmFyIHJlc291cmNlcyA9IEpTT04ucGFyc2UoYm9keSk7XG4gIFx0XHRcdGNvbnNvbGUubG9nKFwiRGF0YWJhc2UgdXBkYXRlZCBhdDogaHR0cDovL2xvY2FsaG9zdDoxNDAwXCIpO1xuICBcdFx0XHRkYXRhUm91dGVyLmRiLnNldFN0YXRlKHJlc291cmNlVXRpbHMuZ2VuZXJhdGVEYXRhYmFzZShyZXNvdXJjZXMpKTtcbiAgXHRcdH0pO1xuICBcdH0sIDIwMDApO1xuICB9XG59XG5cbi8qPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblx0UnVuIHRoZSBhZG1pbiBkYXRhYmFzZSAodG8gc3RvcmUgcmVzb3VyY2UgZGVzY3JpcHRpb25zKVxuPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xudmFyIHN0YXJ0QWRtaW5TZXJ2ZXIgPSBmdW5jdGlvbigpIHtcblx0dmFyIGFkbWluU2VydmVyID0ganNvblNlcnZlci5jcmVhdGUoKTtcblx0dmFyIGFkbWluUm91dGVyID0ganNvblNlcnZlci5yb3V0ZXIoJ2FkbWluX2RiLmpzb24nKTtcblxuXHRhZG1pblNlcnZlci51c2UoanNvblNlcnZlci5kZWZhdWx0cygpKTtcblx0YWRtaW5TZXJ2ZXIudXNlKGRhdGFiYXNlU2VydmVyVXBkYXRlck1pZGRsZXdhcmUpO1xuXHRhZG1pblNlcnZlci51c2UoYWRtaW5Sb3V0ZXIpO1xuXG5cdGFkbWluU2VydmVyLmxpc3RlbigxNDAxLCAoKSA9PiB7XG5cdCAgY29uc29sZS5sb2coJ0FkbWluIGRhdGFiYXNlIHJ1bm5pbmcgYXQ6IGh0dHA6Ly9sb2NhbGhvc3Q6MTQwMScpO1xuXHQgIHN0YXJ0RGF0YWJhc2VTZXJ2ZXIoKTtcblx0fSk7XG59XG5cbnZhciByZXNvdXJjZU1ldGhvZEhlbHBlck1pZGRsZXdhcmUgPSBmdW5jdGlvbiAocmVxLCByZXMsIG5leHQsIHJlc291cmNlcykge1xuXHQvLyBDaGVjayB0aGF0IHRoZSBtZXRob2QgaXMgc3VwcG9ydGVkIGJ5IHRoZSBjb25maWd1cmF0aW9uXG5cdC8vIGZpcnN0IGdldCB0aGUgcmVzb3VyY2UgZGVzY3JpcHRpb24gaW4gcXVlc3Rpb24gYW5kIHRoZW5cblx0Ly8gY2hlY2sgdGhhdCB0aGUgbWV0aG9kIGlzIHN1cHBvcnRlZCBiZWZvcmUgcGFzc2luZyBpdCB0b1xuXHQvLyBqc29uIHNlcnZlci4gT3RoZXJ3aXNlIHRocm93IGEgNDA1IG1ldGhvZCBub3QgYWxsb3dlZFxuXHR2YXIgcmVxdWVzdGVkUmVzb3VyY2VOYW1lID0gcmVxLm9yaWdpbmFsVXJsLnNwbGl0KCcvJylbMV07XG5cdHZhciByZXF1ZXN0ZWRSZXNvdXJjZURlc2NyaXB0aW9uID0gcmVzb3VyY2VzLmZpbmQoZnVuY3Rpb24ocmVzb3VyY2UpIHtcblx0Ly8gdmFyIHJlcXVlc3RlZFJlc291cmNlRGVzY3JpcHRpb24gPSBfcmVzb3VyY2VzLmZpbmQoZnVuY3Rpb24ocmVzb3VyY2UpIHtcblx0XHRyZXR1cm4gcmVzb3VyY2UubmFtZSA9PT0gcmVxdWVzdGVkUmVzb3VyY2VOYW1lO1xuXHR9KTtcblxuXHRpZiAocmVxdWVzdGVkUmVzb3VyY2VEZXNjcmlwdGlvbikge1xuICBcdGlmIChyZXEubWV0aG9kID09PSAnR0VUJyAmJiByZXF1ZXN0ZWRSZXNvdXJjZURlc2NyaXB0aW9uLnN1cHBvcnRlZE1ldGhvZHMuZ2V0KSB7XG4gIFx0XHRuZXh0KCk7XG4gIFx0fSBlbHNlIGlmIChyZXEubWV0aG9kID09PSAnUE9TVCcgJiYgcmVxdWVzdGVkUmVzb3VyY2VEZXNjcmlwdGlvbi5zdXBwb3J0ZWRNZXRob2RzLnBvc3QpIHtcbiAgXHRcdHZhbGlkYXRpb25FcnJvcnMgPSByZXNvdXJjZVV0aWxzLnZhbGlkYXRlUmVxdWVzdChyZXF1ZXN0ZWRSZXNvdXJjZURlc2NyaXB0aW9uLCByZXEuYm9keSk7XG4gIFx0XHRpZiAodmFsaWRhdGlvbkVycm9ycykge1xuICBcdFx0XHRyZXMuc3RhdHVzKDQwMCkuc2VuZCh2YWxpZGF0aW9uRXJyb3JzKVxuICBcdFx0fSBlbHNlIHtcbiAgXHRcdFx0bmV4dCgpO1xuICBcdFx0fVxuICBcdH0gZWxzZSBpZiAocmVxLm1ldGhvZCA9PT0gJ1BVVCcgJiYgcmVxdWVzdGVkUmVzb3VyY2VEZXNjcmlwdGlvbi5zdXBwb3J0ZWRNZXRob2RzLnB1dCkge1xuICBcdFx0bmV4dCgpO1xuICBcdH0gZWxzZSBpZiAocmVxLm1ldGhvZCA9PT0gJ0RFTEVURScgJiYgcmVxdWVzdGVkUmVzb3VyY2VEZXNjcmlwdGlvbi5zdXBwb3J0ZWRNZXRob2RzLmRlc3Ryb3kpIHtcbiAgXHRcdG5leHQoKTtcbiAgXHR9IGVsc2Uge1xuICBcdFx0cmVzLnN0YXR1cyg0MDUpLnNlbmQoYE1ldGhvZCBpc24ndCBzdXBwb3J0ZWQgZm9yIHRoaXMgcmVzb3VyY2VgKTtcbiAgXHR9XG5cdH0gZWxzZSB7XG5cdFx0Ly8gVGhlIHJlc291cmNlIGRvZXNuJ3QgZXhpc3QgYnV0IEpTT04gc2VydmVyIHdpbGwgaGFuZGxlIHRoZSByZXNwb25zZSBmb3IgdXNcblx0XHRuZXh0KCk7XG5cdH1cbn1cblxuLyo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXHRTdGFydCB1cCB0aGUgZGF0YWJhc2UgQVBJIChvbmUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkIGJ5IGNsaWVudCdzXG5cdGZyb250LWVuZCBwcm9qZWN0cykuXG5cdFVzZXMgSlNPTiBzZXJ2ZXIgKHNlZSBkb2NzIGZvciBtb3JlIGluZm8pXG49PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovXG52YXIgc3RhcnREYXRhYmFzZVNlcnZlciA9IGZ1bmN0aW9uKCkge1xuXHRjb25zb2xlLmxvZygnU3RhcnRpbmcgZGF0YWJhc2Ugc2VydmVyJylcblxuXHRodHRwKCdodHRwOi8vbG9jYWxob3N0OjE0MDEvcmVzb3VyY2VzJywgKGVycm9yLCByZXNwb25zZSwgYm9keSkgPT4ge1xuXHQgIHZhciByZXNvdXJjZXMgPSBKU09OLnBhcnNlKGJvZHkpO1xuXHQgIC8vIF9yZXNvdXJjZXMgPSByZXNvdXJjZXM7XG5cdCAgdmFyIGRhdGFTZXJ2ZXIgPSBqc29uU2VydmVyLmNyZWF0ZSgpO1xuXHQgIGRhdGFSb3V0ZXIgPSBqc29uU2VydmVyLnJvdXRlcihyZXNvdXJjZVV0aWxzLmdlbmVyYXRlRGF0YWJhc2UocmVzb3VyY2VzKSk7XG5cblx0ICBkYXRhU2VydmVyLnVzZShib2R5UGFyc2VyLmpzb24oKSk7XG5cdCAgZGF0YVNlcnZlci51c2UoanNvblNlcnZlci5kZWZhdWx0cygpKTtcblxuXHQgIGRhdGFTZXJ2ZXIudXNlKHJlc291cmNlTWV0aG9kSGVscGVyTWlkZGxld2FyZS5iaW5kKHJlc291cmNlcykpO1xuXG5cdCAgZGF0YVNlcnZlci51c2UoZGF0YVJvdXRlcik7XG5cdCAgZGF0YVNlcnZlci5saXN0ZW4oMTQwMCwgZnVuY3Rpb24gKCkge1xuXHQgICAgY29uc29sZS5sb2coJ0RhdGFiYXNlIHJ1bm5pbmcgYXQ6IGh0dHA6Ly9sb2NhbGhvc3Q6MTQwMCcpO1xuXHQgIH0pO1xuXHR9KTtcbn1cblxuLy8gLyo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gXHRTdGFydCB1cCB0aGUgYWRtaW4gZnJvbnQtZW5kIGZvciBtYW5hZ2luZyByZXNvdXJjZXMgYW5kIHNldHRpbmdzXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovXG4vLyB2YXIgc3RhcnRGcm9udEVuZFNlcnZlciA9IGZ1bmN0aW9uKCkge1xuLy8gXHRuZXcgV2VicGFja0RldlNlcnZlcih3ZWJwYWNrKHdlYnBhY2tDb25maWcpLCB7XG4vLyBcdCAgcHVibGljUGF0aDogd2VicGFja0NvbmZpZy5vdXRwdXQucHVibGljUGF0aCxcbi8vIFx0ICBob3Q6IHRydWUsXG4vLyBcdCAgaGlzdG9yeUFwaUZhbGxiYWNrOiB0cnVlXG4vLyBcdH0pLmxpc3RlbigxNDAyLCAnbG9jYWxob3N0JywgKGVycikgPT4ge1xuLy8gXHQgIGlmIChlcnIpIHtcbi8vIFx0ICAgIGNvbnNvbGUubG9nKGVycik7XG4vLyBcdCAgfVxuLy8gXHQgIGNvbnNvbGUubG9nKCdGcm9udGVuZCBzZXJ2ZXIgcnVubmluZyBhdDogaHR0cDovL2xvY2FsaG9zdDoxNDAyJyk7XG4vLyBcdH0pO1xuLy8gfVxuXG4vKj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cdEJvb3RzdHJhcFxuPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xuc3RhcnRBZG1pblNlcnZlcigpO1xuLy8gc3RhcnRGcm9udEVuZFNlcnZlcigpO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9zZXJ2ZXIuanNcbiAqKiBtb2R1bGUgaWQgPSAwXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 1 */
/***/ function(module, exports) {

	eval("module.exports = require(\"request\");//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJyZXF1ZXN0XCI/NDYzZCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiIxLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwicmVxdWVzdFwiKTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIGV4dGVybmFsIFwicmVxdWVzdFwiXG4gKiogbW9kdWxlIGlkID0gMVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 2 */
/***/ function(module, exports) {

	eval("module.exports = require(\"json-server\");//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJqc29uLXNlcnZlclwiP2I5MDEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiMi5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImpzb24tc2VydmVyXCIpO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogZXh0ZXJuYWwgXCJqc29uLXNlcnZlclwiXG4gKiogbW9kdWxlIGlkID0gMlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 3 */
/***/ function(module, exports) {

	eval("module.exports = require(\"body-parser\");//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJib2R5LXBhcnNlclwiPzQ2NTciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiMy5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImJvZHktcGFyc2VyXCIpO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogZXh0ZXJuYWwgXCJib2R5LXBhcnNlclwiXG4gKiogbW9kdWxlIGlkID0gM1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 4 */
/***/ function(module, exports) {

	eval("module.exports = require(\"webpack\");//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJ3ZWJwYWNrXCI/MzkzZCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiI0LmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwid2VicGFja1wiKTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIGV4dGVybmFsIFwid2VicGFja1wiXG4gKiogbW9kdWxlIGlkID0gNFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 5 */
/***/ function(module, exports) {

	eval("module.exports = require(\"webpack-dev-server\");//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJ3ZWJwYWNrLWRldi1zZXJ2ZXJcIj8xYmVhIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6IjUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJ3ZWJwYWNrLWRldi1zZXJ2ZXJcIik7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiBleHRlcm5hbCBcIndlYnBhY2stZGV2LXNlcnZlclwiXG4gKiogbW9kdWxlIGlkID0gNVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 6 */
/***/ function(module, exports, __webpack_require__) {

	eval("/* WEBPACK VAR INJECTION */(function(__dirname) {var webpack = __webpack_require__(4);\nvar path = __webpack_require__(7);\nvar WebpackNotifierPlugin = __webpack_require__(8);\n\nmodule.exports = {\n  entry: [\n    'webpack-dev-server/client?http://localhost:1402',\n    'webpack/hot/dev-server',\n    'babel-polyfill',\n    './src/index',\n    './less/index.less',\n  ],\n  output: {\n    path: path.join(__dirname, 'build'),\n    filename: 'bundle.js',\n    publicPath: '/build/'\n  },\n  resolve: {\n    root: [\n      path.join(__dirname, 'src'),\n      path.join(__dirname, 'backend')\n    ],\n    extensions: ['', '.js']\n  },\n  devtool: 'eval-source-map',\n  plugins: [\n    new webpack.HotModuleReplacementPlugin(),\n    new webpack.NoErrorsPlugin(),\n    new WebpackNotifierPlugin({title: 'Blueprint'})\n  ],\n  module: {\n    loaders: [\n      {\n        test: /\\.js?$/,\n        loader: ['babel'],\n        query: {\n          cacheDirectory: true,\n          plugins: ['transform-decorators-legacy'],\n          presets: ['es2015', 'stage-0', 'react']\n        },\n        include: [\n          path.join(__dirname, 'src'),\n          path.join(__dirname, 'backend')\n        ]\n      },\n      {\n        test: /\\.less$/,\n        loader: \"style!css!autoprefixer!less\"\n      },\n    ],\n    preLoaders: [\n      {\n        test: /\\.js$/,\n        loaders: ['eslint'],\n        include: [\n          new RegExp(path.join(__dirname, 'src'))\n        ]\n      }\n    ]\n  },\n  eslint: {\n    configFile: './.eslintrc'\n  }\n};\n\n/* WEBPACK VAR INJECTION */}.call(exports, \"/\"))//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi93ZWJwYWNrLmNvbmZpZy5qcz83ZGNmIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLG1CQUFtQjtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiNi5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciB3ZWJwYWNrID0gcmVxdWlyZSgnd2VicGFjaycpO1xudmFyIHBhdGggPSByZXF1aXJlKCdwYXRoJyk7XG52YXIgV2VicGFja05vdGlmaWVyUGx1Z2luID0gcmVxdWlyZSgnd2VicGFjay1ub3RpZmllcicpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgZW50cnk6IFtcbiAgICAnd2VicGFjay1kZXYtc2VydmVyL2NsaWVudD9odHRwOi8vbG9jYWxob3N0OjE0MDInLFxuICAgICd3ZWJwYWNrL2hvdC9kZXYtc2VydmVyJyxcbiAgICAnYmFiZWwtcG9seWZpbGwnLFxuICAgICcuL3NyYy9pbmRleCcsXG4gICAgJy4vbGVzcy9pbmRleC5sZXNzJyxcbiAgXSxcbiAgb3V0cHV0OiB7XG4gICAgcGF0aDogcGF0aC5qb2luKF9fZGlybmFtZSwgJ2J1aWxkJyksXG4gICAgZmlsZW5hbWU6ICdidW5kbGUuanMnLFxuICAgIHB1YmxpY1BhdGg6ICcvYnVpbGQvJ1xuICB9LFxuICByZXNvbHZlOiB7XG4gICAgcm9vdDogW1xuICAgICAgcGF0aC5qb2luKF9fZGlybmFtZSwgJ3NyYycpLFxuICAgICAgcGF0aC5qb2luKF9fZGlybmFtZSwgJ2JhY2tlbmQnKVxuICAgIF0sXG4gICAgZXh0ZW5zaW9uczogWycnLCAnLmpzJ11cbiAgfSxcbiAgZGV2dG9vbDogJ2V2YWwtc291cmNlLW1hcCcsXG4gIHBsdWdpbnM6IFtcbiAgICBuZXcgd2VicGFjay5Ib3RNb2R1bGVSZXBsYWNlbWVudFBsdWdpbigpLFxuICAgIG5ldyB3ZWJwYWNrLk5vRXJyb3JzUGx1Z2luKCksXG4gICAgbmV3IFdlYnBhY2tOb3RpZmllclBsdWdpbih7dGl0bGU6ICdCbHVlcHJpbnQnfSlcbiAgXSxcbiAgbW9kdWxlOiB7XG4gICAgbG9hZGVyczogW1xuICAgICAge1xuICAgICAgICB0ZXN0OiAvXFwuanM/JC8sXG4gICAgICAgIGxvYWRlcjogWydiYWJlbCddLFxuICAgICAgICBxdWVyeToge1xuICAgICAgICAgIGNhY2hlRGlyZWN0b3J5OiB0cnVlLFxuICAgICAgICAgIHBsdWdpbnM6IFsndHJhbnNmb3JtLWRlY29yYXRvcnMtbGVnYWN5J10sXG4gICAgICAgICAgcHJlc2V0czogWydlczIwMTUnLCAnc3RhZ2UtMCcsICdyZWFjdCddXG4gICAgICAgIH0sXG4gICAgICAgIGluY2x1ZGU6IFtcbiAgICAgICAgICBwYXRoLmpvaW4oX19kaXJuYW1lLCAnc3JjJyksXG4gICAgICAgICAgcGF0aC5qb2luKF9fZGlybmFtZSwgJ2JhY2tlbmQnKVxuICAgICAgICBdXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB0ZXN0OiAvXFwubGVzcyQvLFxuICAgICAgICBsb2FkZXI6IFwic3R5bGUhY3NzIWF1dG9wcmVmaXhlciFsZXNzXCJcbiAgICAgIH0sXG4gICAgXSxcbiAgICBwcmVMb2FkZXJzOiBbXG4gICAgICB7XG4gICAgICAgIHRlc3Q6IC9cXC5qcyQvLFxuICAgICAgICBsb2FkZXJzOiBbJ2VzbGludCddLFxuICAgICAgICBpbmNsdWRlOiBbXG4gICAgICAgICAgbmV3IFJlZ0V4cChwYXRoLmpvaW4oX19kaXJuYW1lLCAnc3JjJykpXG4gICAgICAgIF1cbiAgICAgIH1cbiAgICBdXG4gIH0sXG4gIGVzbGludDoge1xuICAgIGNvbmZpZ0ZpbGU6ICcuLy5lc2xpbnRyYydcbiAgfVxufTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi93ZWJwYWNrLmNvbmZpZy5qc1xuICoqIG1vZHVsZSBpZCA9IDZcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 7 */
/***/ function(module, exports) {

	eval("module.exports = require(\"path\");//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJwYXRoXCI/NWIyYSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiI3LmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwicGF0aFwiKTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIGV4dGVybmFsIFwicGF0aFwiXG4gKiogbW9kdWxlIGlkID0gN1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 8 */
/***/ function(module, exports) {

	eval("module.exports = require(\"webpack-notifier\");//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJ3ZWJwYWNrLW5vdGlmaWVyXCI/NzZmNiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiI4LmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwid2VicGFjay1ub3RpZmllclwiKTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIGV4dGVybmFsIFwid2VicGFjay1ub3RpZmllclwiXG4gKiogbW9kdWxlIGlkID0gOFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 9 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _faker = __webpack_require__(10);\n\nvar _faker2 = _interopRequireDefault(_faker);\n\nvar _validate = __webpack_require__(11);\n\nvar _validate2 = _interopRequireDefault(_validate);\n\nvar _moment = __webpack_require__(12);\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/*=============================================================================\n\tSet some options for date validation\n=============================================================================*/\n_validate2.default.extend(_validate2.default.validators.datetime, {\n\tparse: function parse(value) {\n\t\treturn +_moment2.default.utc(value);\n\t},\n\tformat: function format(value, options) {\n\t\tvar format = options.dateOnly ? 'YYYY-MM-DD' : 'YYYY-MM-DD hh:mm:ss';\n\t\treturn _moment2.default.utc(value).format(format);\n\t}\n});\n\n/*=============================================================================\n\tAdd new validators\n=============================================================================*/\n_validate2.default.validators.boolean = function (value) {\n\tif (value !== false && value !== true) {\n\t\treturn 'must be true or false';\n\t}\n};\n\nvar ResourceUtils = function () {\n\tfunction ResourceUtils() {\n\t\t_classCallCheck(this, ResourceUtils);\n\t}\n\n\t_createClass(ResourceUtils, [{\n\t\tkey: 'generateResource',\n\n\t\t/*=============================================================================\n  \tGenerate a full resource (array of models)\n  \ttakes a description that defines what the resource looks like\n  \tincluding it's model and associated description\n  =============================================================================*/\n\t\tvalue: function generateResource(description, resources, isNestedResource) {\n\t\t\tif (resources) {\n\t\t\t\tthis.resources = resources;\n\t\t\t}\n\n\t\t\tif (description.type === 'array') {\n\t\t\t\tvar resource = [];\n\t\t\t\tfor (var i = 0, x = description.length; i < x; i++) {\n\t\t\t\t\tvar model = this.generateModel(description.model);\n\t\t\t\t\tif (isNestedResource !== true) {\n\t\t\t\t\t\tmodel.id = i + 1;\n\t\t\t\t\t}\n\t\t\t\t\tresource.push(model);\n\t\t\t\t}\n\n\t\t\t\treturn resource;\n\t\t\t}\n\t\t\treturn this.generateModel(description.model);\n\t\t}\n\n\t\t/*=============================================================================\n  \tReturns a model object based on it's description\n  =============================================================================*/\n\n\t}, {\n\t\tkey: 'generateModel',\n\t\tvalue: function generateModel(description) {\n\t\t\tvar model = {};\n\n\t\t\tfor (var i = 0, x = description.length; i < x; i++) {\n\t\t\t\tvar key = description[i].key;\n\t\t\t\tmodel[key] = this.generatePropertyValue(description[i]);\n\t\t\t}\n\n\t\t\treturn model;\n\t\t}\n\n\t\t/*=============================================================================\n  \tReturns a value for a properties key (for instance first_name)\n  \tGet's passed in the property description and delegates to utility functions\n  \tbased on the properties type\n  =============================================================================*/\n\n\t}, {\n\t\tkey: 'generatePropertyValue',\n\t\tvalue: function generatePropertyValue(property) {\n\t\t\tif (property.type === 'random') {\n\t\t\t\treturn this.generateRandomValue(property);\n\t\t\t} else if (property.type === 'childResource') {\n\t\t\t\treturn this.generateValueFromAnotherResource(property);\n\t\t\t} else if (property.type === 'object') {\n\t\t\t\tif (property.resource && property.resource.type) {\n\t\t\t\t\treturn this.generateResource(property.resource, null, true);\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t} else if (property.type === 'predefined') {\n\t\t\t\treturn property.predefinedValue;\n\t\t\t}\n\t\t}\n\n\t\t/*=============================================================================\n  \tReturns a random value given a properties description\n  \tUses faker.js (see docs for more info)\n  =============================================================================*/\n\n\t}, {\n\t\tkey: 'generateRandomValue',\n\t\tvalue: function generateRandomValue(property) {\n\t\t\tif (property.fakerCategory && property.fakerSubCategory) {\n\t\t\t\tvar args = [];\n\t\t\t\tif (property.fakerParams) {\n\t\t\t\t\tvar keys = Object.keys(property.fakerParams);\n\t\t\t\t\targs = keys.map(function (key) {\n\t\t\t\t\t\treturn property.fakerParams[key];\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\treturn _faker2.default[property.fakerCategory][property.fakerSubCategory].apply(null, args);\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\n\t\t/*=============================================================================\n  \tCheck whether a child resource has a model key that requests it's parent i.e:\n  \t\tusers_model : [{\n  \t\ttype: 'childResource',\n  \t\tchildResourceName: 'comments'\n  \t}];\n  \tcomments_model: [{\n  \t\ttype: 'childResource',\n  \t\tchildResourceName: 'users'\n  \t}];\n  \t\tThe above will fail since it'll cause an infinite loop of generateResource\n  \tcalls.\n  =============================================================================*/\n\n\t}, {\n\t\tkey: 'doesChildResourceContainsRecursiveParent',\n\t\tvalue: function doesChildResourceContainsRecursiveParent(resourceName, childResource) {\n\t\t\tfor (var i = 0, x = childResource.model.length; i < x; i++) {\n\t\t\t\tif (childResource.model[i].type === 'childResource') {\n\t\t\t\t\tif (childResource.model[i].name === resourceName) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\n\t\t/*=============================================================================\n  \tGet a random sub-set of an array\n  =============================================================================*/\n\n\t}, {\n\t\tkey: 'getRandomSample',\n\t\tvalue: function getRandomSample(array, count) {\n\t\t\tvar indices = [];\n\t\t\tvar result = new Array(count);\n\t\t\tfor (var i = 0; i < count; i++) {\n\t\t\t\tvar j = Math.floor(Math.random() * (array.length - i) + i);\n\t\t\t\tresult[i] = !array[indices[j] ? j : indices[j]];\n\t\t\t\tindices[j] = !indices[i] ? i : indices[i];\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\n\t\t/*=============================================================================\n  \tGenerate a key's value from another resource i.e. a post has an author\n  \twhere posts and users are resources\n  =============================================================================*/\n\n\t}, {\n\t\tkey: 'generateValueFromAnotherResource',\n\t\tvalue: function generateValueFromAnotherResource(property) {\n\t\t\tvar resourceDescription = void 0;\n\t\t\tfor (var i = 0, x = this.resources.length; i < x; i++) {\n\t\t\t\tif (this.resources[i].name === property.childResourceName) {\n\t\t\t\t\tresourceDescription = this.resources[i];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (resourceDescription) {\n\t\t\t\tvar childResourceContainsRecursiveParent = this.doesChildResourceContainsRecursiveParent(property.childResourceName, resourceDescription);\n\t\t\t\tif (childResourceContainsRecursiveParent) {\n\t\t\t\t\treturn 'ERROR, ' + property.childResourceName + ' is a recursive key';\n\t\t\t\t}\n\t\t\t\t// Refactor this line below so it doesn't generate the resource\n\t\t\t\t// but is the prevously-generated resource.\n\t\t\t\tvar resource = this.generateResource(resourceDescription);\n\n\t\t\t\tif (property.childResourceMethod === 'array') {\n\t\t\t\t\tif (property.childResourceLimit) {\n\t\t\t\t\t\tvar limit = parseFloat(property.childResourceLimit);\n\t\t\t\t\t\tif (limit > resource.length) {\n\t\t\t\t\t\t\treturn resource;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn this.getRandomSample(resource, limit);\n\t\t\t\t\t}\n\t\t\t\t\treturn resource;\n\t\t\t\t} else if (property.childResourceMethod === 'object') {\n\t\t\t\t\treturn resource[Math.floor(Math.random() * resource.length)];\n\t\t\t\t} else if (property.childResourceMethod === 'id') {\n\t\t\t\t\treturn resource[Math.floor(Math.random() * resource.length)].id;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t/*=============================================================================\n  \tReturns a full database object from the descriptions stored in the\n  \tadmin DB\n  =============================================================================*/\n\n\t}, {\n\t\tkey: 'generateDatabase',\n\t\tvalue: function generateDatabase(resources) {\n\t\t\tthis.resources = resources;\n\t\t\tvar database = {};\n\n\t\t\tfor (var i = 0, x = resources.length; i < x; i++) {\n\t\t\t\tvar resource = resources[i];\n\t\t\t\tdatabase[resource.name] = this.generateResource(resource);\n\t\t\t}\n\n\t\t\treturn database;\n\t\t}\n\n\t\t/*=============================================================================\n  \tValidates a POST or PUT request against the model description if the key\n  \tis a required parameter.\n  =============================================================================*/\n\n\t}, {\n\t\tkey: 'validateRequest',\n\t\tvalue: function validateRequest(resource, request) {\n\t\t\treturn (0, _validate2.default)(request, resource.validationConfig);\n\t\t}\n\n\t\t/*=============================================================================\n  \tGenerate validation config (for validate.js) for a resource\n  =============================================================================*/\n\n\t}, {\n\t\tkey: 'generateValidationConfigForResource',\n\t\tvalue: function generateValidationConfigForResource(resource) {\n\t\t\tvar _this = this;\n\n\t\t\tvar validationConfig = {};\n\n\t\t\t// Generate a validate.js configuraton from the model description\n\t\t\tresource.model.map(function (parameter) {\n\t\t\t\tif (parameter.type === 'childResource') {\n\t\t\t\t\t// Handle a nested resource and validate it\n\t\t\t\t} else if (parameter.type === 'object') {\n\t\t\t\t\t// Handle a nested object / array and validate it\n\t\t\t\t} else {\n\t\t\t\t\tvalidationConfig[parameter.key] = _this.getSingleRequestParameterValidationRequirements(parameter);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn validationConfig;\n\t\t}\n\n\t\t/*=============================================================================\n  \tGenerate the validate.js requirements for a single model.\n  =============================================================================*/\n\n\t}, {\n\t\tkey: 'getSingleRequestParameterValidationRequirements',\n\t\tvalue: function getSingleRequestParameterValidationRequirements(parameter) {\n\t\t\tvar config = {};\n\n\t\t\tif (parameter.required) {\n\t\t\t\tconfig.presence = true;\n\t\t\t}\n\n\t\t\tif (parameter.type === 'predefined') {\n\t\t\t\t// Handle predefined values\n\t\t\t} else if (parameter.type === 'random') {\n\t\t\t\tvar exampleValue = this.generateRandomValue(parameter);\n\t\t\t\tvar isBoolean = typeof exampleValue === 'boolean';\n\t\t\t\tvar isString = typeof exampleValue === 'string';\n\n\t\t\t\t// Date validation (range)\n\t\t\t\tif (parameter.fakerCategory === 'date') {\n\t\t\t\t\tvar dateType = parameter.fakerSubCategory;\n\t\t\t\t\tvar fakerParams = parameter.fakerParams;\n\t\t\t\t\tif (dateType === 'between') {\n\t\t\t\t\t\tconfig.datetime = {};\n\t\t\t\t\t\tif (fakerParams.from) {\n\t\t\t\t\t\t\tconfig.datetime.earliest = fakerParams.from;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (fakerParams.to) {\n\t\t\t\t\t\t\tconfig.datetime.latest = fakerParams.to;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (dateType === 'future') {\n\t\t\t\t\t\tconfig.datetime = {};\n\t\t\t\t\t\tif (fakerParams.refDate) {\n\t\t\t\t\t\t\tconfig.datetime.earliest = fakerParams.refDate;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (fakerParams.years) {\n\t\t\t\t\t\t\t//\n\t\t\t\t\t\t\t// NOTE: Refactor this so it works when this is run so it's always looking at todays date\n\t\t\t\t\t\t\t// Consider storing latest as the string 'today' and checking for that string when\n\t\t\t\t\t\t\t// validation is run\n\t\t\t\t\t\t\t//\n\n\t\t\t\t\t\t\tvar refDate = fakerParams.refDate || new Date();\n\t\t\t\t\t\t\tconfig.datetime.latest = (0, _moment2.default)(refDate).add(fakerParams.years, 'years').format('YYYY-MM-DD');\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (dateType === 'past') {\n\t\t\t\t\t\tconfig.datetime = {};\n\t\t\t\t\t\tif (fakerParams.refDate) {\n\t\t\t\t\t\t\tconfig.datetime.latest = fakerParams.refDate;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (fakerParams.years) {\n\t\t\t\t\t\t\tconfig.datetime.earliest = (0, _moment2.default)(fakerParams.refDate).subtract(fakerParams.years, 'years').format('YYYY-MM-DD');\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (dateType === 'month') {\n\t\t\t\t\t\tif (parameter.fakerSubCategory === 'month') {\n\t\t\t\t\t\t\tconfig.inclusion = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'November', 'December'];\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Else it's just a random date, no min or max needed\n\t\t\t\t\t\tconfig.datetime = true;\n\t\t\t\t\t}\n\t\t\t\t} else if (parameter.fakerSubCategory === 'email') {\n\t\t\t\t\tconfig.email = true;\n\t\t\t\t} else if (parameter.fakerSubCategory === 'url') {\n\t\t\t\t\tconfig.url = true;\n\t\t\t\t} else if (isString && parameter.fakerSubCategory === 'arrayElement') {\n\t\t\t\t\t// We have to check if array is an array of strings since validate.js doesn't support\n\t\t\t\t\t// nested objects. TODO: write a validator that supports deepEqual of nested objects.\n\t\t\t\t\tconfig.inclusion = parameter.fakerParams.json;\n\t\t\t\t} else if (isBoolean) {\n\t\t\t\t\tconfig.boolean = true;\n\t\t\t\t} else if (parameter.fakerSubCategory === 'number') {\n\t\t\t\t\tconfig.numericality = true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn config;\n\t\t}\n\t}]);\n\n\treturn ResourceUtils;\n}();\n\nexports.default = new ResourceUtils();//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9iYWNrZW5kL1Jlc291cmNlVXRpbHMuanM/MWQyYiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBOzs7O0FBQ0E7Ozs7QUFDQTs7Ozs7Ozs7Ozs7QUFLQSxtQkFBUyxNQUFULENBQWdCLG1CQUFTLFVBQVQsQ0FBb0IsUUFBcEMsRUFBOEM7QUFDNUMsUUFBTyxlQUFVLEtBQVYsRUFBaUI7QUFDdEIsU0FBTyxDQUFDLGlCQUFPLEdBQVAsQ0FBVyxLQUFYLENBQVI7QUFDRCxFQUgyQztBQUk1QyxTQUFRLGdCQUFVLEtBQVYsRUFBaUIsT0FBakIsRUFBMEI7QUFDaEMsTUFBSSxTQUFTLFFBQVEsUUFBUixHQUFtQixZQUFuQixHQUFrQyxxQkFBL0M7QUFDQSxTQUFPLGlCQUFPLEdBQVAsQ0FBVyxLQUFYLEVBQWtCLE1BQWxCLENBQXlCLE1BQXpCLENBQVA7QUFDRDtBQVAyQyxDQUE5Qzs7Ozs7QUFhQSxtQkFBUyxVQUFULENBQW9CLE9BQXBCLEdBQThCLFVBQVUsS0FBVixFQUFpQjtBQUM5QyxLQUFJLFVBQVUsS0FBVixJQUFtQixVQUFVLElBQWpDLEVBQXVDO0FBQ3RDLFNBQU8sdUJBQVA7QUFDQTtBQUNELENBSkQ7O0lBTU0sYTs7Ozs7Ozs7Ozs7OzttQ0FNWSxXLEVBQWEsUyxFQUFXLGdCLEVBQWtCO0FBQzFELE9BQUksU0FBSixFQUFlO0FBQ2QsU0FBSyxTQUFMLEdBQWlCLFNBQWpCO0FBQ0E7O0FBRUQsT0FBSSxZQUFZLElBQVosS0FBcUIsT0FBekIsRUFBa0M7QUFDakMsUUFBSSxXQUFXLEVBQWY7QUFDQSxTQUFLLElBQUksSUFBSSxDQUFSLEVBQVcsSUFBSSxZQUFZLE1BQWhDLEVBQXdDLElBQUksQ0FBNUMsRUFBK0MsR0FBL0MsRUFBb0Q7QUFDbkQsU0FBSSxRQUFRLEtBQUssYUFBTCxDQUFtQixZQUFZLEtBQS9CLENBQVo7QUFDQSxTQUFJLHFCQUFxQixJQUF6QixFQUErQjtBQUM5QixZQUFNLEVBQU4sR0FB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dEI7QUFDQTtBQUNEOztBQUVELFVBQU8sTUFBUDtBQUNBOzs7Ozs7a0JBR2EsSUFBSSxhQUFKLEUiLCJmaWxlIjoiOS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBmYWtlciBmcm9tICdmYWtlcic7XG5pbXBvcnQgdmFsaWRhdGUgZnJvbSAndmFsaWRhdGUuanMnO1xuaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnO1xuXG4vKj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cdFNldCBzb21lIG9wdGlvbnMgZm9yIGRhdGUgdmFsaWRhdGlvblxuPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xudmFsaWRhdGUuZXh0ZW5kKHZhbGlkYXRlLnZhbGlkYXRvcnMuZGF0ZXRpbWUsIHtcbiAgcGFyc2U6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIHJldHVybiArbW9tZW50LnV0Yyh2YWx1ZSk7XG4gIH0sXG4gIGZvcm1hdDogZnVuY3Rpb24gKHZhbHVlLCBvcHRpb25zKSB7XG4gICAgbGV0IGZvcm1hdCA9IG9wdGlvbnMuZGF0ZU9ubHkgPyAnWVlZWS1NTS1ERCcgOiAnWVlZWS1NTS1ERCBoaDptbTpzcyc7XG4gICAgcmV0dXJuIG1vbWVudC51dGModmFsdWUpLmZvcm1hdChmb3JtYXQpO1xuICB9XG59KTtcblxuLyo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXHRBZGQgbmV3IHZhbGlkYXRvcnNcbj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki9cbnZhbGlkYXRlLnZhbGlkYXRvcnMuYm9vbGVhbiA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuXHRpZiAodmFsdWUgIT09IGZhbHNlICYmIHZhbHVlICE9PSB0cnVlKSB7XG5cdFx0cmV0dXJuICdtdXN0IGJlIHRydWUgb3IgZmFsc2UnO1xuXHR9XG59O1xuXG5jbGFzcyBSZXNvdXJjZVV0aWxzIHtcblx0Lyo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXHRcdEdlbmVyYXRlIGEgZnVsbCByZXNvdXJjZSAoYXJyYXkgb2YgbW9kZWxzKVxuXHRcdHRha2VzIGEgZGVzY3JpcHRpb24gdGhhdCBkZWZpbmVzIHdoYXQgdGhlIHJlc291cmNlIGxvb2tzIGxpa2Vcblx0XHRpbmNsdWRpbmcgaXQncyBtb2RlbCBhbmQgYXNzb2NpYXRlZCBkZXNjcmlwdGlvblxuXHQ9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovXG5cdGdlbmVyYXRlUmVzb3VyY2UoZGVzY3JpcHRpb24sIHJlc291cmNlcywgaXNOZXN0ZWRSZXNvdXJjZSkge1xuXHRcdGlmIChyZXNvdXJjZXMpIHtcblx0XHRcdHRoaXMucmVzb3VyY2VzID0gcmVzb3VyY2VzO1xuXHRcdH1cblxuXHRcdGlmIChkZXNjcmlwdGlvbi50eXBlID09PSAnYXJyYXknKSB7XG5cdFx0XHRsZXQgcmVzb3VyY2UgPSBbXTtcblx0XHRcdGZvciAobGV0IGkgPSAwLCB4ID0gZGVzY3JpcHRpb24ubGVuZ3RoOyBpIDwgeDsgaSsrKSB7XG5cdFx0XHRcdGxldCBtb2RlbCA9IHRoaXMuZ2VuZXJhdGVNb2RlbChkZXNjcmlwdGlvbi5tb2RlbCk7XG5cdFx0XHRcdGlmIChpc05lc3RlZFJlc291cmNlICE9PSB0cnVlKSB7XG5cdFx0XHRcdFx0bW9kZWwuaWQgPSBpICsgMTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXNvdXJjZS5wdXNoKG1vZGVsKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHJlc291cmNlO1xuXHRcdH1cblx0XHRyZXR1cm4gdGhpcy5nZW5lcmF0ZU1vZGVsKGRlc2NyaXB0aW9uLm1vZGVsKTtcblx0fVxuXG5cdC8qPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblx0XHRSZXR1cm5zIGEgbW9kZWwgb2JqZWN0IGJhc2VkIG9uIGl0J3MgZGVzY3JpcHRpb25cblx0PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xuXHRnZW5lcmF0ZU1vZGVsKGRlc2NyaXB0aW9uKSB7XG5cdFx0bGV0IG1vZGVsID0ge307XG5cblx0XHRmb3IgKGxldCBpID0gMCwgeCA9IGRlc2NyaXB0aW9uLmxlbmd0aDsgaSA8IHg7IGkrKykge1xuXHRcdFx0bGV0IGtleSA9IGRlc2NyaXB0aW9uW2ldLmtleTtcblx0XHRcdG1vZGVsW2tleV0gPSB0aGlzLmdlbmVyYXRlUHJvcGVydHlWYWx1ZShkZXNjcmlwdGlvbltpXSk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIG1vZGVsO1xuXHR9XG5cblx0Lyo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXHRcdFJldHVybnMgYSB2YWx1ZSBmb3IgYSBwcm9wZXJ0aWVzIGtleSAoZm9yIGluc3RhbmNlIGZpcnN0X25hbWUpXG5cdFx0R2V0J3MgcGFzc2VkIGluIHRoZSBwcm9wZXJ0eSBkZXNjcmlwdGlvbiBhbmQgZGVsZWdhdGVzIHRvIHV0aWxpdHkgZnVuY3Rpb25zXG5cdFx0YmFzZWQgb24gdGhlIHByb3BlcnRpZXMgdHlwZVxuXHQ9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovXG5cdGdlbmVyYXRlUHJvcGVydHlWYWx1ZShwcm9wZXJ0eSkge1xuXHRcdGlmIChwcm9wZXJ0eS50eXBlID09PSAncmFuZG9tJykge1xuXHRcdFx0cmV0dXJuIHRoaXMuZ2VuZXJhdGVSYW5kb21WYWx1ZShwcm9wZXJ0eSk7XG5cdFx0fSBlbHNlIGlmIChwcm9wZXJ0eS50eXBlID09PSAnY2hpbGRSZXNvdXJjZScpIHtcblx0XHRcdHJldHVybiB0aGlzLmdlbmVyYXRlVmFsdWVGcm9tQW5vdGhlclJlc291cmNlKHByb3BlcnR5KTtcblx0XHR9IGVsc2UgaWYgKHByb3BlcnR5LnR5cGUgPT09ICdvYmplY3QnKSB7XG5cdFx0XHRpZiAocHJvcGVydHkucmVzb3VyY2UgJiYgcHJvcGVydHkucmVzb3VyY2UudHlwZSkge1xuXHRcdFx0XHRyZXR1cm4gdGhpcy5nZW5lcmF0ZVJlc291cmNlKHByb3BlcnR5LnJlc291cmNlLCBudWxsLCB0cnVlKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBudWxsO1xuXHRcdH0gZWxzZSBpZiAocHJvcGVydHkudHlwZSA9PT0gJ3ByZWRlZmluZWQnKSB7XG5cdFx0XHRyZXR1cm4gcHJvcGVydHkucHJlZGVmaW5lZFZhbHVlO1xuXHRcdH1cblx0fVxuXG5cdC8qPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblx0XHRSZXR1cm5zIGEgcmFuZG9tIHZhbHVlIGdpdmVuIGEgcHJvcGVydGllcyBkZXNjcmlwdGlvblxuXHRcdFVzZXMgZmFrZXIuanMgKHNlZSBkb2NzIGZvciBtb3JlIGluZm8pXG5cdD09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki9cblx0Z2VuZXJhdGVSYW5kb21WYWx1ZShwcm9wZXJ0eSkge1xuXHRcdGlmIChwcm9wZXJ0eS5mYWtlckNhdGVnb3J5ICYmIHByb3BlcnR5LmZha2VyU3ViQ2F0ZWdvcnkpIHtcblx0XHRcdGxldCBhcmdzID0gW107XG5cdFx0XHRpZiAocHJvcGVydHkuZmFrZXJQYXJhbXMpIHtcblx0XHRcdFx0bGV0IGtleXMgPSBPYmplY3Qua2V5cyhwcm9wZXJ0eS5mYWtlclBhcmFtcyk7XG5cdFx0XHRcdGFyZ3MgPSBrZXlzLm1hcCgoa2V5KSA9PiBwcm9wZXJ0eS5mYWtlclBhcmFtc1trZXldKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBmYWtlcltwcm9wZXJ0eS5mYWtlckNhdGVnb3J5XVtwcm9wZXJ0eS5mYWtlclN1YkNhdGVnb3J5XS5hcHBseShudWxsLCBhcmdzKTtcblx0XHR9XG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cblxuXHQvKj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cdFx0Q2hlY2sgd2hldGhlciBhIGNoaWxkIHJlc291cmNlIGhhcyBhIG1vZGVsIGtleSB0aGF0IHJlcXVlc3RzIGl0J3MgcGFyZW50IGkuZTpcblxuXHRcdHVzZXJzX21vZGVsIDogW3tcblx0XHRcdHR5cGU6ICdjaGlsZFJlc291cmNlJyxcblx0XHRcdGNoaWxkUmVzb3VyY2VOYW1lOiAnY29tbWVudHMnXG5cdFx0fV07XG5cdFx0Y29tbWVudHNfbW9kZWw6IFt7XG5cdFx0XHR0eXBlOiAnY2hpbGRSZXNvdXJjZScsXG5cdFx0XHRjaGlsZFJlc291cmNlTmFtZTogJ3VzZXJzJ1xuXHRcdH1dO1xuXG5cdFx0VGhlIGFib3ZlIHdpbGwgZmFpbCBzaW5jZSBpdCdsbCBjYXVzZSBhbiBpbmZpbml0ZSBsb29wIG9mIGdlbmVyYXRlUmVzb3VyY2Vcblx0XHRjYWxscy5cblx0PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xuXHRkb2VzQ2hpbGRSZXNvdXJjZUNvbnRhaW5zUmVjdXJzaXZlUGFyZW50KHJlc291cmNlTmFtZSwgY2hpbGRSZXNvdXJjZSkge1xuXHRcdGZvciAobGV0IGkgPSAwLCB4ID0gY2hpbGRSZXNvdXJjZS5tb2RlbC5sZW5ndGg7IGkgPCB4OyBpKyspIHtcblx0XHRcdGlmIChjaGlsZFJlc291cmNlLm1vZGVsW2ldLnR5cGUgPT09ICdjaGlsZFJlc291cmNlJykge1xuXHRcdFx0XHRpZiAoY2hpbGRSZXNvdXJjZS5tb2RlbFtpXS5uYW1lID09PSByZXNvdXJjZU5hbWUpIHtcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHQvKj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cdFx0R2V0IGEgcmFuZG9tIHN1Yi1zZXQgb2YgYW4gYXJyYXlcblx0PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xuXHRnZXRSYW5kb21TYW1wbGUoYXJyYXksIGNvdW50KSB7XG4gICAgbGV0IGluZGljZXMgPSBbXTtcbiAgICBsZXQgcmVzdWx0ID0gbmV3IEFycmF5KGNvdW50KTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvdW50OyBpKyspIHtcbiAgICAgIGxldCBqID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKGFycmF5Lmxlbmd0aCAtIGkpICsgaSk7XG4gICAgICByZXN1bHRbaV0gPSAhYXJyYXlbaW5kaWNlc1tqXSA/IGogOiBpbmRpY2VzW2pdXTtcbiAgICAgIGluZGljZXNbal0gPSAhaW5kaWNlc1tpXSA/IGkgOiBpbmRpY2VzW2ldO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuXHR9XG5cblx0Lyo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXHRcdEdlbmVyYXRlIGEga2V5J3MgdmFsdWUgZnJvbSBhbm90aGVyIHJlc291cmNlIGkuZS4gYSBwb3N0IGhhcyBhbiBhdXRob3Jcblx0XHR3aGVyZSBwb3N0cyBhbmQgdXNlcnMgYXJlIHJlc291cmNlc1xuXHQ9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovXG5cdGdlbmVyYXRlVmFsdWVGcm9tQW5vdGhlclJlc291cmNlKHByb3BlcnR5KSB7XG5cdFx0bGV0IHJlc291cmNlRGVzY3JpcHRpb247XG5cdFx0Zm9yIChsZXQgaSA9IDAsIHggPSB0aGlzLnJlc291cmNlcy5sZW5ndGg7IGkgPCB4OyBpKyspIHtcblx0XHRcdGlmICh0aGlzLnJlc291cmNlc1tpXS5uYW1lID09PSBwcm9wZXJ0eS5jaGlsZFJlc291cmNlTmFtZSkge1xuXHRcdFx0XHRyZXNvdXJjZURlc2NyaXB0aW9uID0gdGhpcy5yZXNvdXJjZXNbaV07XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmIChyZXNvdXJjZURlc2NyaXB0aW9uKSB7XG5cdFx0XHRsZXQgY2hpbGRSZXNvdXJjZUNvbnRhaW5zUmVjdXJzaXZlUGFyZW50ID0gdGhpcy5kb2VzQ2hpbGRSZXNvdXJjZUNvbnRhaW5zUmVjdXJzaXZlUGFyZW50KHByb3BlcnR5LmNoaWxkUmVzb3VyY2VOYW1lLCByZXNvdXJjZURlc2NyaXB0aW9uKTtcblx0XHRcdGlmIChjaGlsZFJlc291cmNlQ29udGFpbnNSZWN1cnNpdmVQYXJlbnQpIHtcblx0XHRcdFx0cmV0dXJuICdFUlJPUiwgJyArIHByb3BlcnR5LmNoaWxkUmVzb3VyY2VOYW1lICsgJyBpcyBhIHJlY3Vyc2l2ZSBrZXknO1xuXHRcdFx0fVxuXHRcdFx0Ly8gUmVmYWN0b3IgdGhpcyBsaW5lIGJlbG93IHNvIGl0IGRvZXNuJ3QgZ2VuZXJhdGUgdGhlIHJlc291cmNlXG5cdFx0XHQvLyBidXQgaXMgdGhlIHByZXZvdXNseS1nZW5lcmF0ZWQgcmVzb3VyY2UuXG5cdFx0XHRsZXQgcmVzb3VyY2UgPSB0aGlzLmdlbmVyYXRlUmVzb3VyY2UocmVzb3VyY2VEZXNjcmlwdGlvbik7XG5cblx0XHRcdGlmIChwcm9wZXJ0eS5jaGlsZFJlc291cmNlTWV0aG9kID09PSAnYXJyYXknKSB7XG5cdFx0XHRcdGlmIChwcm9wZXJ0eS5jaGlsZFJlc291cmNlTGltaXQpIHtcblx0XHRcdFx0XHRsZXQgbGltaXQgPSBwYXJzZUZsb2F0KHByb3BlcnR5LmNoaWxkUmVzb3VyY2VMaW1pdCk7XG5cdFx0XHRcdFx0aWYgKGxpbWl0ID4gcmVzb3VyY2UubGVuZ3RoKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gcmVzb3VyY2U7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybiB0aGlzLmdldFJhbmRvbVNhbXBsZShyZXNvdXJjZSwgbGltaXQpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiByZXNvdXJjZTtcblx0XHRcdH0gZWxzZSBpZiAocHJvcGVydHkuY2hpbGRSZXNvdXJjZU1ldGhvZCA9PT0gJ29iamVjdCcpIHtcblx0XHRcdFx0cmV0dXJuIHJlc291cmNlW01hdGguZmxvb3IoKE1hdGgucmFuZG9tKCkgKiByZXNvdXJjZS5sZW5ndGgpKV07XG5cdFx0XHR9IGVsc2UgaWYgKHByb3BlcnR5LmNoaWxkUmVzb3VyY2VNZXRob2QgPT09ICdpZCcpIHtcblx0XHRcdFx0cmV0dXJuIHJlc291cmNlW01hdGguZmxvb3IoKE1hdGgucmFuZG9tKCkgKiByZXNvdXJjZS5sZW5ndGgpKV0uaWQ7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Lyo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXHRcdFJldHVybnMgYSBmdWxsIGRhdGFiYXNlIG9iamVjdCBmcm9tIHRoZSBkZXNjcmlwdGlvbnMgc3RvcmVkIGluIHRoZVxuXHRcdGFkbWluIERCXG5cdD09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki9cblx0Z2VuZXJhdGVEYXRhYmFzZShyZXNvdXJjZXMpIHtcblx0XHR0aGlzLnJlc291cmNlcyA9IHJlc291cmNlcztcblx0XHRsZXQgZGF0YWJhc2UgPSB7fTtcblxuXHRcdGZvciAobGV0IGkgPSAwLCB4ID0gcmVzb3VyY2VzLmxlbmd0aDsgaSA8IHg7IGkrKykge1xuXHRcdFx0bGV0IHJlc291cmNlID0gcmVzb3VyY2VzW2ldO1xuXHRcdFx0ZGF0YWJhc2VbcmVzb3VyY2UubmFtZV0gPSB0aGlzLmdlbmVyYXRlUmVzb3VyY2UocmVzb3VyY2UpO1xuXHRcdH1cblxuXHRcdHJldHVybiBkYXRhYmFzZTtcblx0fVxuXG5cdC8qPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblx0XHRWYWxpZGF0ZXMgYSBQT1NUIG9yIFBVVCByZXF1ZXN0IGFnYWluc3QgdGhlIG1vZGVsIGRlc2NyaXB0aW9uIGlmIHRoZSBrZXlcblx0XHRpcyBhIHJlcXVpcmVkIHBhcmFtZXRlci5cblx0PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xuXHR2YWxpZGF0ZVJlcXVlc3QocmVzb3VyY2UsIHJlcXVlc3QpIHtcblx0XHRyZXR1cm4gdmFsaWRhdGUocmVxdWVzdCwgcmVzb3VyY2UudmFsaWRhdGlvbkNvbmZpZyk7XG5cdH1cblxuXHQvKj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cdFx0R2VuZXJhdGUgdmFsaWRhdGlvbiBjb25maWcgKGZvciB2YWxpZGF0ZS5qcykgZm9yIGEgcmVzb3VyY2Vcblx0PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xuXHRnZW5lcmF0ZVZhbGlkYXRpb25Db25maWdGb3JSZXNvdXJjZShyZXNvdXJjZSkge1xuXHRcdGxldCB2YWxpZGF0aW9uQ29uZmlnID0ge307XG5cblx0XHQvLyBHZW5lcmF0ZSBhIHZhbGlkYXRlLmpzIGNvbmZpZ3VyYXRvbiBmcm9tIHRoZSBtb2RlbCBkZXNjcmlwdGlvblxuXHRcdHJlc291cmNlLm1vZGVsLm1hcCgocGFyYW1ldGVyKSA9PiB7XG5cdFx0XHRpZiAocGFyYW1ldGVyLnR5cGUgPT09ICdjaGlsZFJlc291cmNlJykge1xuXHRcdFx0XHQvLyBIYW5kbGUgYSBuZXN0ZWQgcmVzb3VyY2UgYW5kIHZhbGlkYXRlIGl0XG5cdFx0XHR9IGVsc2UgaWYgKHBhcmFtZXRlci50eXBlID09PSAnb2JqZWN0Jykge1xuXHRcdFx0XHQvLyBIYW5kbGUgYSBuZXN0ZWQgb2JqZWN0IC8gYXJyYXkgYW5kIHZhbGlkYXRlIGl0XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR2YWxpZGF0aW9uQ29uZmlnW3BhcmFtZXRlci5rZXldID0gdGhpcy5nZXRTaW5nbGVSZXF1ZXN0UGFyYW1ldGVyVmFsaWRhdGlvblJlcXVpcmVtZW50cyhwYXJhbWV0ZXIpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIHZhbGlkYXRpb25Db25maWc7XG5cdH1cblxuXHQvKj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cdFx0R2VuZXJhdGUgdGhlIHZhbGlkYXRlLmpzIHJlcXVpcmVtZW50cyBmb3IgYSBzaW5nbGUgbW9kZWwuXG5cdD09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki9cblx0Z2V0U2luZ2xlUmVxdWVzdFBhcmFtZXRlclZhbGlkYXRpb25SZXF1aXJlbWVudHMocGFyYW1ldGVyKSB7XG5cdFx0bGV0IGNvbmZpZyA9IHt9O1xuXG5cdFx0aWYgKHBhcmFtZXRlci5yZXF1aXJlZCkge1xuXHRcdFx0Y29uZmlnLnByZXNlbmNlID0gdHJ1ZTtcblx0XHR9XG5cblx0XHRpZiAocGFyYW1ldGVyLnR5cGUgPT09ICdwcmVkZWZpbmVkJykge1xuXHRcdFx0Ly8gSGFuZGxlIHByZWRlZmluZWQgdmFsdWVzXG5cdFx0fSBlbHNlIGlmIChwYXJhbWV0ZXIudHlwZSA9PT0gJ3JhbmRvbScpIHtcblx0XHRcdGxldCBleGFtcGxlVmFsdWUgPSB0aGlzLmdlbmVyYXRlUmFuZG9tVmFsdWUocGFyYW1ldGVyKTtcblx0XHRcdGxldCBpc0Jvb2xlYW4gPSB0eXBlb2YgKGV4YW1wbGVWYWx1ZSkgPT09ICdib29sZWFuJztcblx0XHRcdGxldCBpc1N0cmluZyA9IHR5cGVvZiAoZXhhbXBsZVZhbHVlKSA9PT0gJ3N0cmluZyc7XG5cblx0XHRcdC8vIERhdGUgdmFsaWRhdGlvbiAocmFuZ2UpXG5cdFx0XHRpZiAocGFyYW1ldGVyLmZha2VyQ2F0ZWdvcnkgPT09ICdkYXRlJykge1xuXHRcdFx0XHRsZXQgZGF0ZVR5cGUgPSBwYXJhbWV0ZXIuZmFrZXJTdWJDYXRlZ29yeTtcblx0XHRcdFx0bGV0IGZha2VyUGFyYW1zID0gcGFyYW1ldGVyLmZha2VyUGFyYW1zO1xuXHRcdFx0XHRpZiAoZGF0ZVR5cGUgPT09ICdiZXR3ZWVuJykge1xuXHRcdFx0XHRcdGNvbmZpZy5kYXRldGltZSA9IHt9O1xuXHRcdFx0XHRcdGlmIChmYWtlclBhcmFtcy5mcm9tKSB7XG5cdFx0XHRcdFx0XHRjb25maWcuZGF0ZXRpbWUuZWFybGllc3QgPSBmYWtlclBhcmFtcy5mcm9tO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZiAoZmFrZXJQYXJhbXMudG8pIHtcblx0XHRcdFx0XHRcdGNvbmZpZy5kYXRldGltZS5sYXRlc3QgPSBmYWtlclBhcmFtcy50bztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gZWxzZSBpZiAoZGF0ZVR5cGUgPT09ICdmdXR1cmUnKSB7XG5cdFx0XHRcdFx0Y29uZmlnLmRhdGV0aW1lID0ge307XG5cdFx0XHRcdFx0aWYgKGZha2VyUGFyYW1zLnJlZkRhdGUpIHtcblx0XHRcdFx0XHRcdGNvbmZpZy5kYXRldGltZS5lYXJsaWVzdCA9IGZha2VyUGFyYW1zLnJlZkRhdGU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmIChmYWtlclBhcmFtcy55ZWFycykge1xuXHRcdFx0XHRcdFx0Ly9cblx0XHRcdFx0XHRcdC8vIE5PVEU6IFJlZmFjdG9yIHRoaXMgc28gaXQgd29ya3Mgd2hlbiB0aGlzIGlzIHJ1biBzbyBpdCdzIGFsd2F5cyBsb29raW5nIGF0IHRvZGF5cyBkYXRlXG5cdFx0XHRcdFx0XHQvLyBDb25zaWRlciBzdG9yaW5nIGxhdGVzdCBhcyB0aGUgc3RyaW5nICd0b2RheScgYW5kIGNoZWNraW5nIGZvciB0aGF0IHN0cmluZyB3aGVuXG5cdFx0XHRcdFx0XHQvLyB2YWxpZGF0aW9uIGlzIHJ1blxuXHRcdFx0XHRcdFx0Ly9cblxuXHRcdFx0XHRcdFx0bGV0IHJlZkRhdGUgPSBmYWtlclBhcmFtcy5yZWZEYXRlIHx8IG5ldyBEYXRlKCk7XG5cdFx0XHRcdFx0XHRjb25maWcuZGF0ZXRpbWUubGF0ZXN0ID0gbW9tZW50KHJlZkRhdGUpLmFkZChmYWtlclBhcmFtcy55ZWFycywgJ3llYXJzJykuZm9ybWF0KCdZWVlZLU1NLUREJyk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGVsc2UgaWYgKGRhdGVUeXBlID09PSAncGFzdCcpIHtcblx0XHRcdFx0XHRjb25maWcuZGF0ZXRpbWUgPSB7fTtcblx0XHRcdFx0XHRpZiAoZmFrZXJQYXJhbXMucmVmRGF0ZSkge1xuXHRcdFx0XHRcdFx0Y29uZmlnLmRhdGV0aW1lLmxhdGVzdCA9IGZha2VyUGFyYW1zLnJlZkRhdGU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmIChmYWtlclBhcmFtcy55ZWFycykge1xuXHRcdFx0XHRcdFx0Y29uZmlnLmRhdGV0aW1lLmVhcmxpZXN0ID0gbW9tZW50KGZha2VyUGFyYW1zLnJlZkRhdGUpLnN1YnRyYWN0KGZha2VyUGFyYW1zLnllYXJzLCAneWVhcnMnKS5mb3JtYXQoJ1lZWVktTU0tREQnKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gZWxzZSBpZiAoZGF0ZVR5cGUgPT09ICdtb250aCcpIHtcblx0XHRcdFx0XHRpZiAocGFyYW1ldGVyLmZha2VyU3ViQ2F0ZWdvcnkgPT09ICdtb250aCcpIHtcblx0XHRcdFx0XHRcdGNvbmZpZy5pbmNsdXNpb24gPSBbJ0phbnVhcnknLCAnRmVicnVhcnknLCAnTWFyY2gnLCAnQXByaWwnLCAnTWF5JywgJ0p1bmUnLCAnSnVseScsICdBdWd1c3QnLCAnU2VwdGVtYmVyJywgJ05vdmVtYmVyJywgJ0RlY2VtYmVyJ107XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdC8vIEVsc2UgaXQncyBqdXN0IGEgcmFuZG9tIGRhdGUsIG5vIG1pbiBvciBtYXggbmVlZGVkXG5cdFx0XHRcdFx0Y29uZmlnLmRhdGV0aW1lID0gdHJ1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIGlmIChwYXJhbWV0ZXIuZmFrZXJTdWJDYXRlZ29yeSA9PT0gJ2VtYWlsJykge1xuXHRcdFx0XHRjb25maWcuZW1haWwgPSB0cnVlO1xuXHRcdFx0fSBlbHNlIGlmIChwYXJhbWV0ZXIuZmFrZXJTdWJDYXRlZ29yeSA9PT0gJ3VybCcpIHtcblx0XHRcdFx0Y29uZmlnLnVybCA9IHRydWU7XG5cdFx0XHR9IGVsc2UgaWYgKGlzU3RyaW5nICYmIHBhcmFtZXRlci5mYWtlclN1YkNhdGVnb3J5ID09PSAnYXJyYXlFbGVtZW50Jykge1xuXHRcdFx0XHQvLyBXZSBoYXZlIHRvIGNoZWNrIGlmIGFycmF5IGlzIGFuIGFycmF5IG9mIHN0cmluZ3Mgc2luY2UgdmFsaWRhdGUuanMgZG9lc24ndCBzdXBwb3J0XG5cdFx0XHRcdC8vIG5lc3RlZCBvYmplY3RzLiBUT0RPOiB3cml0ZSBhIHZhbGlkYXRvciB0aGF0IHN1cHBvcnRzIGRlZXBFcXVhbCBvZiBuZXN0ZWQgb2JqZWN0cy5cblx0XHRcdFx0Y29uZmlnLmluY2x1c2lvbiA9IHBhcmFtZXRlci5mYWtlclBhcmFtcy5qc29uO1xuXHRcdFx0fSBlbHNlIGlmIChpc0Jvb2xlYW4pIHtcblx0XHRcdFx0Y29uZmlnLmJvb2xlYW4gPSB0cnVlO1xuXHRcdFx0fSBlbHNlIGlmIChwYXJhbWV0ZXIuZmFrZXJTdWJDYXRlZ29yeSA9PT0gJ251bWJlcicpIHtcblx0XHRcdFx0Y29uZmlnLm51bWVyaWNhbGl0eSA9IHRydWU7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGNvbmZpZztcblx0fVxufVxuXG5leHBvcnQgZGVmYXVsdCBuZXcgUmVzb3VyY2VVdGlscygpO1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9iYWNrZW5kL1Jlc291cmNlVXRpbHMuanNcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 10 */
/***/ function(module, exports) {

	eval("module.exports = require(\"faker\");//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJmYWtlclwiPzY2ZmUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiMTAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJmYWtlclwiKTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIGV4dGVybmFsIFwiZmFrZXJcIlxuICoqIG1vZHVsZSBpZCA9IDEwXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 11 */
/***/ function(module, exports) {

	eval("module.exports = require(\"validate.js\");//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJ2YWxpZGF0ZS5qc1wiPzE3ZmEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiMTEuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJ2YWxpZGF0ZS5qc1wiKTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIGV4dGVybmFsIFwidmFsaWRhdGUuanNcIlxuICoqIG1vZHVsZSBpZCA9IDExXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 12 */
/***/ function(module, exports) {

	eval("module.exports = require(\"moment\");//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJtb21lbnRcIj9hODhkIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6IjEyLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwibW9tZW50XCIpO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogZXh0ZXJuYWwgXCJtb21lbnRcIlxuICoqIG1vZHVsZSBpZCA9IDEyXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9");

/***/ }
/******/ ]);